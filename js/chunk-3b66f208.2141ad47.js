(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3b66f208"],{"0fb4":function(e,t,s){"use strict";s("dc4b")},c764:function(e,t,s){"use strict";s.r(t);var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"forgot-password"},[s("Alert",{attrs:{mess:e.alertMsg}}),s("div",{staticClass:"container"},[s("h1",{staticClass:"title"},[e._v("Quên mật khẩu")]),s("div",{staticClass:"body"},[e.sendMailSucceed&&!e.resetPasswordSuccessful?s("form",[s("span",[e._v("Mã xác thực đã được gửi đến email của bạn")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.token,expression:"token"}],attrs:{type:"text",placeholder:"Code..."},domProps:{value:e.token},on:{input:function(t){t.target.composing||(e.token=t.target.value)}}}),s("span",{attrs:{id:"resend"},on:{click:e.resend}},[e._v("Gửi lại mã xác thực")]),s("button",{on:{click:function(t){return t.preventDefault(),e.verify.apply(null,arguments)}}},[e._v("Xác thực")])]):e._e(),e.sendMailSucceed||e.resetPasswordSuccessful?e._e():s("form",[s("span",[e._v("Vui lòng nhập thông tin dưới đây")]),s("div",{staticClass:"input-wrapper"},[s("div",{staticClass:"wrapper-input"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticClass:"input",attrs:{type:"email",required:"",name:"email",placeholder:" "},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}}),s("label",{staticClass:"input-labels",attrs:{for:"email"}},[e._v("Email")])])]),s("div",{staticClass:"input-wrapper"},[s("div",{staticClass:"wrapper-input"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.newIncoming.userId,expression:"newIncoming.userId"}],staticClass:"input",attrs:{type:"text",required:"",name:"id",placeholder:" "},domProps:{value:e.newIncoming.userId},on:{input:function(t){t.target.composing||e.$set(e.newIncoming,"userId",t.target.value)}}}),s("label",{staticClass:"input-labels",attrs:{for:"id"}},[e._v("Mã nhân viên")])])]),s("div",{staticClass:"input-wrapper"},[s("div",{staticClass:"wrapper-input"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.newIncoming.password,expression:"newIncoming.password"}],staticClass:"input",attrs:{type:"password",required:"",name:"password",placeholder:" "},domProps:{value:e.newIncoming.password},on:{input:function(t){t.target.composing||e.$set(e.newIncoming,"password",t.target.value)}}}),s("label",{staticClass:"input-labels",attrs:{for:"password"}},[e._v("Mật khẩu mới")])])]),s("div",{staticClass:"input-wrapper"},[s("div",{staticClass:"wrapper-input"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.newIncoming.confirmPassword,expression:"newIncoming.confirmPassword"}],staticClass:"input",attrs:{type:"password",required:"",name:"confirmPassword",placeholder:" "},domProps:{value:e.newIncoming.confirmPassword},on:{input:function(t){t.target.composing||e.$set(e.newIncoming,"confirmPassword",t.target.value)}}}),s("label",{staticClass:"input-labels",attrs:{for:"confirmPassword"}},[e._v("Xác nhận mật khẩu")])])]),s("button",{on:{click:function(t){return t.preventDefault(),e.sendMail.apply(null,arguments)}}},[e._v("Gửi")])]),e.resetPasswordSuccessful?s("form",[s("span",[e._v("Bạn đã đăng ký thành công!")]),s("button",{on:{click:e.redirectLogin}},[e._v("Đăng nhập")])]):e._e()])])],1)},r=[],a=s("1da1"),i=(s("96cf"),s("cc4f")),o={components:{Alert:i["a"]},data:function(){return{resetPasswordSuccessful:!1,email:"",newIncoming:{userId:"",password:"",confirmPassword:""},alertMsg:"",sendMailSucceed:!1,token:""}},methods:{alertMessage:function(){this.alertMsg=this.$store.getters.getWarningMessage;var e=document.querySelector(".error-alert");setTimeout((function(){e.classList.remove("show")}),3e3)},sendMail:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var s,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s=e.email,t.next=3,e.$store.dispatch("forgotPassword",s);case 3:return t.next=5,e.$store.getters.getSendMailState;case 5:e.sendMailSucceed=t.sent,console.log(e.sendMailSucceed),e.sendMailSucceed||(n=document.querySelector(".error-alert"),n.classList.add("show"),e.alertMessage());case 8:case"end":return t.stop()}}),t)})))()},verify:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var s,n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s=e.token,t.next=3,e.$store.dispatch("verifyResetPassword",s);case 3:if(!e.$store.getters.getResetPasswordTokenValid){t.next=12;break}return n=e.newIncoming,t.next=7,e.$store.dispatch("resetPassword",n);case 7:return t.next=9,e.$store.getters.getResetPasswordSuccessful;case 9:e.resetPasswordSuccessful=t.sent,t.next=15;break;case 12:r=document.querySelector(".error-alert"),r.classList.add("show"),e.alertMessage();case 15:case"end":return t.stop()}}),t)})))()},redirectLogin:function(){this.$router.push({name:"Login"})},resend:function(){var e=this.newIncoming.userID;this.$store.dispatch("refreshResetPasswordToken",e)}},destroyed:function(){console.log("destroyed"),this.$store.commit("SET_FORGOT_PASSWORD_SENDMAIL_STATE","reset"),this.$store.commit("SET_RESET_PASSWORD_TOKEN","reset"),this.$store.commit("SET_RESET_PASSWORD_STATUS","reset")}},c=o,l=(s("0fb4"),s("2877")),u=Object(l["a"])(c,n,r,!1,null,"de3a4650",null);t["default"]=u.exports},dc4b:function(e,t,s){}}]);
//# sourceMappingURL=chunk-3b66f208.2141ad47.js.map